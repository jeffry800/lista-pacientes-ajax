<!DOCTYPE html>
<html lang="es"> 
         <head>
         <meta charset="UTF-8">
         <title>Pagina mostrar lista de pacientes</title>
         </head>
         <body>
         <header>
         <div class="container">
                 <h1 class="titulo">Mostrar listado</h1>
         </div>
         </header> 

         <main>
         <section class="container">
                 <h2>Mis pacientes</h2>
         <table>
         <thead>
         <tr> 
           <th>Nombre</th>
           <th>Peso (kg)</th>
           <th>Altura (m)</th>
           <th>Gordura corporal (%)</th>
           <th>IMC</th>
         </tr>
         </thead>
         <tbody id="tabla-pacientes">
         </tbody>
         </table>

         <span id="error-ajax">Error al buscar los pacientes</span>

         <button id="buscar-paciente" class="boton bto-principal">Buscar Pacientes
</button>

</section> 
</main>
<script>

function adicionarPacienteEnLaTabla (paciente) { 
        var pacienteTr = construirTr(paciente);
        var tabla document.querySelector("#tabla-pacientes");
        tabla.appendChild(pacienteTr);
};

function construirTr(paciente) {
        var pacienteTr document.createElement("tr");
        pacienteTr.classList.add("paciente");
        pacienteTr.appendChild(construirtd(paciente.nombre, "info-nombre"));
        pacienteTr.appendChild(construirTd(paciente.peso, "info-peso"));
        pacienteTr.appendChild(construirTd(paciente.altura, "info-altura")); 
        pacienteTr.appendChild(construirTd(paciente.gordura, "info-gordura"));
        pacienteTr.appendChild(construirTd(paciente, imc, "info-ime"));
         return pacienteTr:
}:

function construirTd(dato,clase){
        var to document.createElement("td");
        td.classList.add(clase); 
        td.textContent dato;  
        return td;
}

var errorAjax = document.querySelector("#error-ajax"); 
errorAjax.style.visibility = "hidden":

var botonBuscar document.querySelector("#buscar-paciente"); 
botonBuscar.addEventListener("click", function(){
var xhr nuevo XMLHttpRequest;

xhr.open
("GET", "https://raw.githubusercontent.com/jeffry800/lista-pacientes-ajax/refs/heads/main/pacientes.json");

xhr.addEventListener("load", function(){
        if(xhr.status == 200) {
                var respuesta xhr.responseText;
                var pacientes JSON.parse(respuesta); 
                pacientes. forEach(function(paciente){
                        adicionarPaciente EnLaTabla (paciente);
                });
        }else{
                errorAjax.style.visibility = "visible"
        }
});
xhr.send();
});

</script>
</body>
</html>